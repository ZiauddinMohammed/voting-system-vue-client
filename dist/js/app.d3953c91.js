(function(t){function e(e){for(var s,r,o=e[0],d=e[1],l=e[2],u=0,m=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&m.push(n[r][0]),n[r]=0;for(s in d)Object.prototype.hasOwnProperty.call(d,s)&&(t[s]=d[s]);c&&c(e);while(m.length)m.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,o=1;o<a.length;o++){var d=a[o];0!==n[d]&&(s=!1)}s&&(i.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},n={app:0},i=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],d=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var c=d;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"09da":function(t,e,a){},"160d":function(t,e,a){"use strict";var s=a("19a0"),n=a.n(s);n.a},"19a0":function(t,e,a){},"31d0":function(t,e,a){"use strict";var s=a("d16f"),n=a.n(s);n.a},"56d7":function(t,e,a){"use strict";a.r(e);var s=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[t.logoutCountDown?a("p",[t._v("Hello")]):t._e(),a("b-card",{attrs:{title:"Card Title","no-body":""}},[a("b-card-header",{attrs:{"header-tag":"nav"}},[a("b-nav",{attrs:{"card-header":"",justified:"",pills:""}},[a("b-nav-item",{attrs:{to:"/",exact:"","exact-active-class":"active"}},[t._v("Voter")]),a("b-nav-item",{attrs:{to:"/candidate",exact:"","exact-active-class":"active"}},[t._v("Candidate")]),a("b-nav-item",{attrs:{to:"/admin",exact:"","exact-active-class":"active"}},[t._v("Admin")])],1)],1),a("b-card-body",[a("router-view")],1)],1)],1)},i=[],r={name:"App",components:{},data(){return{mouseEvents:[],logoutCountDown:0,warningTimer:null,logoutTimer:null}},mounted(){this.mouseEvents.forEach(t=>{window.addEventListener(t,this.resetTimer())},this),this.setTimers()},methods:{setTimers(){this.warningTimer=setTimeout(this.showAlertMsg,4e3)},resetTimer(){clearTimeout(this.warningTimer),this.setTimers()},showAlertMsg(){console.log("Alert!!!")}}},o=r,d=(a("69b0"),a("2877")),l=Object(d["a"])(o,n,i,!1,null,"3344ac94",null),c=l.exports,u=a("8c4f"),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"voterTab"},[a("b-card",{attrs:{title:"Hacker's Polls","bg-variant":"light"}},[t.noDataAvailable?a("b-card-body",[a("b-card-sub-title",{staticClass:"font-weight-bold"},[t._v(" No Data Available!!!. Please Try After Sometime... ")])],1):a("b-card-body",{staticClass:"text-center"},[t._l(t.getCandidates,(function(e){return a("b-list-group",{key:e.name},[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center",attrs:{button:""},on:{click:function(a){return t.showSidebar(e)}}},[a("span",{staticStyle:{"text-transform":"capitalize"}},[t._v(t._s(e.name))]),a("b-badge",{attrs:{variant:"primary",pill:""}},[t._v(t._s(e.votes))])],1)],1)})),t.sidebarCandidateData[0]?a("b-sidebar",{attrs:{title:t.sidebarCandidateData[0].name,"mt-40":"",left:"",shadow:""},scopedSlots:t._u([{key:"footer",fn:function(){return[a("div",{staticClass:"d-flex bg-dark text-light align-items-center px-3 py-2"},[t.hasVoted?t._e():a("b-button",{staticClass:"mr-auto primary",attrs:{size:"sm",variant:"success",primary:""},on:{click:t.vote}},[t._v("Vote")]),a("b-button",{attrs:{size:"sm",variant:"danger"},on:{click:function(e){t.sidebar=!1}}},[t._v("Close")])],1)]},proxy:!0}],null,!1,772906629),model:{value:t.sidebar,callback:function(e){t.sidebar=e},expression:"sidebar"}},[a("ProfilePage",{staticClass:"px-0 py-2",attrs:{candidate:t.sidebarCandidateData[0]}})],1):t._e()],2)],1)],1)},p=[],h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-card",{staticClass:"text-center",staticStyle:{height:"100%"},scopedSlots:t._u([{key:"header",fn:function(){return[a("h4",{staticStyle:{"text-transform":"capitalize"}},[t._v(t._s(t.candidate.name)+"'s Profile")])]},proxy:!0}])},[a("br"),a("h4",[t._v("Details")]),a("b-table",{attrs:{stacked:"",items:t.getDetails()}}),a("br"),a("h4",[t._v("Skills")]),a("b-table",{attrs:{stacked:"",items:t.getSkills()}}),t.hasNoSkill()?a("div",[a("hr",{staticStyle:{border:"1.5px solid lightgrey"}}),a("h5",[t._v(" No Skills ")])]):t._e()],1)],1)},f=[],b=s["default"].extend({name:"ProfilePage",props:["candidate"],data(){return{}},methods:{getDetails(){const t={};for(let e in this.candidate)"skills"!=e&&(t[e]=this.candidate[e]);return[t]},getSkills(){return[this.candidate.skills]},hasNoSkill(){return 0==Object.keys(this.candidate.skills).length}}}),g=b,v=Object(d["a"])(g,h,f,!1,null,"39dcf335",null),C=v.exports,y=s["default"].extend({name:"Voter",components:{ProfilePage:C},data(){return{sidebar:!1,sidebarCandidateData:[]}},mounted(){this.$store.dispatch("initCandidatesDetails"),this.$store.dispatch("checkIp")},computed:{getCandidates(){return this.$store.getters.getCandidates},hasVoted(){return this.$store.getters.getHasVoted},noDataAvailable(){return 0==this.getCandidates.length}},methods:{showSidebar(t){this.sidebarCandidateData=[t],this.sidebar=!0},vote(){this.$store.dispatch("addVote",{name:this.sidebarCandidateData[0].name}),this.sidebar=!1}}}),w=y,k=(a("31d0"),Object(d["a"])(w,m,p,!1,null,"996e1026",null)),A=k.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"candidateTab"},[t.isCandidateLoggedIn?a("div",[t.showCandidateForm?a("CandidateForm",{attrs:{candidate:t.getLoggedInCandidate},on:{close:function(e){t.showCandidateForm=!1}}}):a("div",{staticClass:"text-center"},[a("ProfilePage",{attrs:{candidate:t.getLoggedInCandidate}}),a("b-button",{staticClass:"mt-2",attrs:{variant:"info"},on:{click:function(e){t.showCandidateForm=!0}}},[t._v("Edit")]),a("b-button",{staticClass:"ml-2 mt-2",attrs:{variant:"danger"},on:{click:t.logout}},[t._v(" Logout ")])],1)],1):a("LoginForm",{attrs:{type:"candidate"}})],1)},_=[],L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",{attrs:{"bg-variant":"light"}},[a("b-form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)},reset:t.onReset}},[a("b-form-group",{attrs:{id:"input-group-1",label:t.type.charAt(0).toUpperCase()+t.type.slice(1)+"'s Name:","label-for":"input-1"}},[a("b-form-input",{attrs:{id:"input-1",required:"",placeholder:"Enter name"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("b-form-group",{attrs:{id:"input-group-2",label:t.type.charAt(0).toUpperCase()+t.type.slice(1)+"'s Password:","label-for":"input-2"}},[a("b-form-input",{attrs:{id:"input-2",type:"password",required:"",placeholder:"Enter Password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),a("b-button",{staticClass:"mr-2",attrs:{type:"submit",variant:"primary"}},[t._v("Login")]),a("b-button",{staticClass:"mr-2",attrs:{type:"reset",variant:"danger"}},[t._v("Reset")])],1),a("div",{staticClass:"text-center"},[t.isLoading&&!t.showAlert?a("b-spinner",{attrs:{label:"Checking Info"}}):t._e(),t.showAlert?a("b-alert",{staticClass:"mt-2",attrs:{show:"1",variant:"danger",fade:"",dismissible:""},on:{dismissed:t.hideAlert}},[a("b",[t._v("Login Failed")])]):t._e()],1)],1)},S=[],I=s["default"].extend({name:"LoginForm",props:["type"],data(){return{form:{name:"",password:""},isLoading:!1}},computed:{showAlert(){return"admin"===this.type?this.$store.getters.getShowAdminAlert:this.$store.getters.getShowCandidateAlert}},methods:{onSubmit(){this.isLoading=!0,this.$store.dispatch("login",{type:this.type,form:{...this.form}}),this.onReset()},onReset(){this.form.name="",this.form.password=""},hideAlert(){this.isLoading=!1,"admin"===this.type?this.$store.commit("setShowAdminAlert",!1):"candidate"===this.type&&this.$store.commit("setShowCandidateAlert",!1)}}}),$=I,F=Object(d["a"])($,L,S,!1,null,"13f93177",null),D=F.exports,O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",{attrs:{"bg-variant":"light"}},[a("label",[t._v("Name: ")]),a("label",{staticClass:"font-weight-bold ml-2"},[t._v(t._s(t.form.name))]),a("br"),a("label",[t._v("Votes: ")]),a("label",{staticClass:"font-weight-bold ml-2"},[t._v(t._s(t.form.votes))]),a("br"),a("b-form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)},reset:t.onReset}},[a("b-form-group",{attrs:{id:"input-group-1",label:"Challenges Solved"}},[a("b-form-input",{attrs:{type:"number",min:"0",required:"",placeholder:"No. Of Challenges Solved"},model:{value:t.form.challengesSolved,callback:function(e){t.$set(t.form,"challengesSolved",e)},expression:"form.challengesSolved"}})],1),a("b-form-group",{attrs:{label:"Overall Expertise Level"}},[a("b-form-input",{attrs:{type:"number",min:"0",max:"5",required:"",placeholder:"Enter Expertise Level"},model:{value:t.form.expertiseLevel,callback:function(e){t.$set(t.form,"expertiseLevel",e)},expression:"form.expertiseLevel"}})],1),a("label",{staticClass:"font-weight-bold"},[t._v("Skills:")]),a("b-icon-plus-circle",{staticClass:"ml-2",attrs:{type:"button",variant:"success"},on:{click:function(e){t.isAddSkill=!0}}}),a("br"),t._l(Object.keys(t.form.skills),(function(e){return a("b-form-group",{key:e,attrs:{label:e,"label-class":"text-capitalize"}},[a("b-form-input",{attrs:{type:"number",min:"0",max:"5",required:"",placeholder:"Expertise Level"},model:{value:t.form.skills[e],callback:function(a){t.$set(t.form.skills,e,a)},expression:"form.skills[skill]"}})],1)})),a("b-form-group",[t.isAddSkill?a("b-form",{on:{submit:function(e){return e.preventDefault(),t.addSkill(e)}}},[a("b-card",{staticClass:"d-flex justify-content-center"},[a("b-card-sub-title",{staticClass:"font-weight-bold"},[t._v(" Add Skill: ")]),a("b-input",{staticClass:"mt-1",attrs:{placeholder:"Enter Skill",type:"text",required:""},model:{value:t.skill.name,callback:function(e){t.$set(t.skill,"name",e)},expression:"skill.name"}}),a("b-input",{staticClass:"mt-1",attrs:{placeholder:"Expertise Level",type:"number",min:"0",max:"5",required:""},model:{value:t.skill.expertiseLevel,callback:function(e){t.$set(t.skill,"expertiseLevel",e)},expression:"skill.expertiseLevel"}}),a("b-button",{staticClass:"mt-1 mr-1",attrs:{type:"submit",variant:"success"}},[t._v("Add")]),a("b-button",{staticClass:"mt-1 mr-1",attrs:{variant:"danger"},on:{click:t.closeSkillForm}},[t._v("Close")])],1)],1):t._e()],1),a("b-button",{staticClass:"mr-2",attrs:{type:"submit",variant:"primary"}},[t._v("Submit")]),a("b-button",{staticClass:"mr-2",attrs:{variant:"success"},on:{click:function(e){return t.onReset()}}},[t._v("Reset")]),a("b-button",{staticClass:"mr-2",attrs:{variant:"danger"},on:{click:function(e){return t.onCancel()}}},[t._v("Cancel")])],2)],1)},j=[],P=a("2ef0"),E=s["default"].extend({name:"CandidateForm",props:["candidate"],data(){return{isAddSkill:!1,skill:{name:"",expertiseLevel:0},form:Object(P["cloneDeep"])(this.candidate)}},methods:{onCancel(){this.$emit("close")},async onSubmit(){this.$store.dispatch("updateCandidateDetails",this.form),this.onCancel()},onReset(){this.form=Object(P["cloneDeep"])(this.candidate)},addSkill(){this.form.skills[this.skill.name.toLowerCase()]=this.skill.expertiseLevel,this.closeSkillForm()},closeSkillForm(){this.skill.name="",this.skill.expertiseLevel=0,this.isAddSkill=!1}}}),N=E,T=Object(d["a"])(N,O,j,!1,null,"457094b6",null),V=T.exports,R=s["default"].extend({name:"Candidate",components:{LoginForm:D,ProfilePage:C,CandidateForm:V},data(){return{showCandidateForm:!1}},computed:{isCandidateLoggedIn(){return this.$store.getters.getIsCandidateLoggedIn},getLoggedInCandidate(){return this.$store.getters.getLoggedInCandidate}},methods:{logout(){this.$store.commit("setIsCandidateLoggedIn",!1)}}}),q=R,U=(a("160d"),Object(d["a"])(q,x,_,!1,null,"ed07790e",null)),H=U.exports,z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"adminTab"},[t.isAdminLoggedIn?t.showRegisterForm?a("div",[a("b-card",{attrs:{"bg-variant":"light"}},[a("b-form",{on:{submit:function(e){return e.preventDefault(),t.addCandidateAccount(e)}}},[a("b-form-group",{attrs:{id:"input-group-1",label:"Candidate's Name:","label-for":"input-1"}},[a("b-form-input",{attrs:{id:"input-1",required:"",placeholder:"Enter name"},model:{value:t.registerForm.name,callback:function(e){t.$set(t.registerForm,"name",e)},expression:"registerForm.name"}})],1),a("b-form-group",{attrs:{id:"input-group-2",label:"Candidate's Password:","label-for":"input-2"}},[a("b-form-input",{attrs:{id:"input-2",type:"password",required:"",placeholder:"Enter Password"},model:{value:t.registerForm.password,callback:function(e){t.$set(t.registerForm,"password",e)},expression:"registerForm.password"}})],1),a("b-button",{staticClass:"mr-2 text-center",attrs:{type:"submit",variant:"success"}},[t._v("Add")]),a("b-button",{staticClass:"mr-2 text-center",attrs:{type:"danger",variant:"danger"},on:{click:function(e){t.showRegisterForm=!1}}},[t._v("Cancel")])],1)],1)],1):a("div",[a("b-card",{staticClass:"text-center",attrs:{title:"Candidates","bg-variant":"light"}},[t._l(t.candidateNames,(function(e){return a("b-list-group",{key:e},[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center"},[t._v(t._s(e)+" "),a("b-icon-trash",{attrs:{type:"button",variant:"danger"},on:{click:function(a){return t.deleteCandidateAccount(e)}}})],1)],1)})),a("b-button",{staticClass:"mt-2",attrs:{variant:"success"},on:{click:function(e){t.showRegisterForm=!0}}},[t._v(" Add Candidate ")]),a("b-button",{staticClass:"ml-2 mt-2",attrs:{variant:"danger"},on:{click:t.logout}},[t._v(" Logout ")])],2)],1):a("LoginForm",{attrs:{type:"admin"}})],1)},M=[],J=s["default"].extend({name:"Admin",components:{LoginForm:D},data(){return{registerForm:{name:"",password:""},showRegisterForm:!1}},computed:{isAdminLoggedIn(){return this.$store.getters.getIsAdminLoggedIn},candidateNames(){return this.$store.getters.getCandidateNames}},methods:{deleteCandidateAccount(t){this.$store.dispatch("deleteCandidateAccount",t)},addCandidateAccount(){this.$store.dispatch("addCandidateAccount",this.registerForm),this.showRegisterForm=!1},logout(){this.$store.commit("setIsAdminLoggedIn",!1)}}}),B=J,G=(a("95dd"),Object(d["a"])(B,z,M,!1,null,"1271f96f",null)),K=G.exports,Q=[{path:"/",component:A,name:"voter"},{path:"/Candidate",component:H,name:"candidate"},{path:"/Admin",component:K,name:"admin"}],W=a("2f62"),X=a("bc3a"),Y=a.n(X);s["default"].use(W["a"]);var Z=new W["a"].Store({state:{isAdminLoggedIn:!1,isCandidateLoggedIn:!1,showAdminAlert:!1,showCandidateAlert:!1,candidateNames:[],loggedInCandidate:{},candidates:[],hasVoted:!0},getters:{getCandidates(t){return t.candidates},getIsAdminLoggedIn(t){return t.isAdminLoggedIn},getIsCandidateLoggedIn(t){return t.isCandidateLoggedIn},getCandidateNames(t){return t.candidateNames},getShowAdminAlert(t){return t.showAdminAlert},getShowCandidateAlert(t){return t.showCandidateAlert},getLoggedInCandidate(t){return t.loggedInCandidate},getHasVoted(t){return t.hasVoted}},mutations:{setCandidates(t,e){t.candidates=e},setIsAdminLoggedIn(t,e){t.isAdminLoggedIn=e},setIsCandidateLoggedIn(t,e){t.isCandidateLoggedIn=e},setCandidateNames(t,e){t.candidateNames=e},setShowAdminAlert(t,e){t.showAdminAlert=e},setShowCandidateAlert(t,e){t.showCandidateAlert=e},setLoggedInCandidate(t,e){t.loggedInCandidate=e},setHasVoted(t,e){t.hasVoted=e}},actions:{async initCandidatesDetails({commit:t}){try{const e={method:"get",url:"http://localhost:3000/voter"},{data:a}=await Y()(e);t("setCandidates",a)}catch(e){console.error("Initialization Unsuccessful")}},async checkIp({commit:t}){try{const e={method:"get",url:"http://localhost:3000/voter/checkIp"},{data:a}=await Y()(e);t("setHasVoted",a)}catch(e){console.error("CheckIp Unsuccessful")}},async addVote({dispatch:t,commit:e},a){try{const s={method:"post",url:"http://localhost:3000/voter",data:a};Y()(s),e("setHasVoted",!0),t("initCandidatesDetails")}catch(s){console.error("Add Vote Unsuccessful")}},async login({commit:t},e){const a={method:"post",url:`http://localhost:3000/${e.type}/login`,data:e.form};try{const{data:s}=await Y()(a);"admin"===e.type?(t("setCandidateNames",s),t("setIsAdminLoggedIn",!0),t("setShowAdminAlert",!1)):"candidate"===e.type&&(t("setLoggedInCandidate",s),t("setIsCandidateLoggedIn",!0),t("setShowCandidateAlert",!1))}catch(s){console.error("Login Failed"),"admin"===e.type?(t("setIsAdminLoggedIn",!1),t("setShowAdminAlert",!0)):"candidate"===e.type&&(t("setIsCandidateLoggedIn",!1),t("setShowCandidateAlert",!0))}},deleteCandidateAccount({state:t,commit:e},a){const s=t.candidateNames.filter(t=>t!==a);try{const t={method:"post",url:"http://localhost:3000/admin/delete",data:{name:a}};Y()(t),e("setCandidateNames",s)}catch(n){console.error("Deletion Unsuccessful")}},addCandidateAccount({state:t},e){const a=t.candidateNames.indexOf(e.name);if(!(a>=0))try{const a={method:"put",url:"http://localhost:3000/admin",data:e};Y()(a),t.candidateNames.push(e.name)}catch(s){console.error("Addition Unsuccessful")}},updateCandidateDetails({commit:t},e){try{const a={method:"post",url:"http://localhost:3000/candidate",data:e};Y()(a),t("setLoggedInCandidate",e)}catch(a){console.error("Updation Unsuccessful")}}}}),tt=a("5f5b"),et=a("b1e0"),at=a("498a"),st=a("a7e2"),nt=a("7049"),it=a("e68d"),rt=a("89bf"),ot=a("521d"),dt=a("6e5c"),lt=a("1f1a"),ct=a("cbd0"),ut=a("1073"),mt=a("b1fc"),pt=a("cca8"),ht=a("b519");a("f9e3"),a("2dd8");s["default"].use(u["a"]),s["default"].use(tt["a"]),s["default"].use(et["a"]),s["default"].use(at["a"]),s["default"].use(st["a"]),s["default"].use(nt["a"]),s["default"].use(it["a"]),s["default"].use(rt["a"]),s["default"].use(ot["a"]),s["default"].use(dt["a"]),s["default"].use(lt["a"]),s["default"].use(ct["a"]),s["default"].use(ut["a"]),s["default"].use(mt["a"]),s["default"].use(pt["a"]),s["default"].use(ht["a"]),s["default"].config.productionTip=!1;const ft=new u["a"]({routes:Q,history:!0});new s["default"]({render:t=>t(c),router:ft,store:Z}).$mount("#app")},"69b0":function(t,e,a){"use strict";var s=a("09da"),n=a.n(s);n.a},"95dd":function(t,e,a){"use strict";var s=a("cbf5"),n=a.n(s);n.a},cbf5:function(t,e,a){},d16f:function(t,e,a){}});
//# sourceMappingURL=app.d3953c91.js.map